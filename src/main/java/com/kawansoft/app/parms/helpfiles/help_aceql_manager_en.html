<font face="Arial" size=6> 
<center>AceQL HTTP</center></font>
<font face="Arial" size=4>
<br>

This interface allows to configure and run the AceQL HTTP Server that will be accessed by remote clients.
<br><br>
A default prefilled configuration file is provided for immediate startup.
<br>
<br>

<h2><font face="Arial">Configuration</h2><font face="Arial" size=4>

<b><font color=blue>Properties File</font></b> 
<br><br>

Most AceQL HTTP Server configuration is carried out by defining properties in the aceql-server.properties file, except the hostname and port.
<br>
<br>
Click "Edit" to modify the default AceQL properties file that comes with installation. The file is self-documented.
<br>Click "Browse" to choose/use a different file.
<br><br>
The minimum properties to define for starting an AceQL HTTP Server instance are:
<ul>
<li>The databases property with must contain at least a dabatase name.</li>
<li>The 4 JDBC properties driverClassName.database, url.database, username.database and password.database.</li>
</ul>
Refer to the <a href="https://www.aceql.com/rest/soft/1.0/aceql-http1.0-user-guide-server.pdf">AceQL Server Guide</a> for detailed  info.

<br><br><br>

<b><font color=blue>Host & Port</font></b> 
<br><br>
The two fields allow to define the hostname and port of the HTTP URL to be accessed by the client side.
<br>
Do not prefix the hostname with http:// or https://, it will be done automatically by AceQL.
<br>
<br>
Valid values for hostname are: <br>
localhost, www.acme.com, prefix.acme.org, etc.

<br><br><br>

<b><font color=blue>Installed JDBC Drivers</font></b> 
<br><br>
The text area displays all installed JDBC Drivers that will be automatically added to the CLASSPATH.
<br>
Default installation includes a recent PostgreSQL JDBC Driver.
<br>
<br>
To add your JDBC Driver(s), click "Open Location" and drop your JDBC jar(s) in the opened folder.

<br><br><br>

<h2><font face="Arial">Server Start & Stop</h2><font face="Arial" size=4>

Server may be started within the current JVM, or as a Windows Service.
<br>
<br>
If you wish to run the AceQL HTTP Server as a Windows Service, it is highly recommended to test your configuration by starting once the server in Standard Mode.

<br><br><br>

<b><font color=blue>Standard Mode</font></b> 
<br><br>
The AceQL Server is started in the same current JVM and a Console is opened to check the success of the start.
<br><br>
If everything is OK, last line will display:
<br>
<code><pre>[ACEQL HTTP START] SQL Web Server OK. Running on port 9090.</code></pre>

<font face="Arial" size=4>or 
<br>

<code><pre>[ACEQL HTTP START] SQL Web Server OK. Running on port 9090 & port 9443.</code></pre> 
<font face="Arial" size=4>for SSL configuration.

<br><br>
If configuration errors occur, they are displayed as Exceptions in red.

<br><br><br>

<b><font color=blue>Service Mode</font></b> 
<br><br>
You may start and stop the Windows service from this windows.
<br>
Note that the default start type is "Auto". 
<br>This and the other properties of the Windows service may be changed using Microsoft Management Console, just click on "Services Console".
<br>
<br>
After the Windows service is started, it is recommended to check the running success by accessing the Windows service logs:
<ul>
<li>Click on "Service Logs".</li>
<li>The 3 following files contain all necessary info to check if AceQL is successfully running and to fix configuration errors:
    <ul>
        <li>aceqlhttpservice-stderr.yyyy-mm-dd.log</li>
        <li>aceqlhttpservice-stdout.yyyy-mm-dd.log</li>
        <li>commons-daemon.yyyy-mm-dd.log </li>
    </ul>
</ul>
<br>
If the start is successful, the aceqlhttpservice-stdout.yyyy-mm-dd.log last line will display: 
<code><pre>[ACEQL HTTP START] SQL Web Server OK. Running on port 9090.</code></pre>

<font face="Arial" size=4>or 
<br>

<code><pre>[ACEQL HTTP START] SQL Web Server OK. Running on port 9090 & port 9443.</code></pre> 
<font face="Arial" size=4>for SSL configuration.

<br><br><br>

<b><font color=blue>Service Mode - Precisions on Java environment values</font></b> 
<br><br>

Per default, the Windows service opens the session with the Local System account.  
<br>This may be changed with the Microsoft Management Console ("Services Console" button).
<br><br>
N.B.: if you change the account, the service must be restarted using the AceQL interface (not in order to set correctly the user.home system property.
<br><br>

The value of user.home system property depends on the account chosen to open the session:
<ul>
    <li><b>Default Local System account</b>: user.home system property value is set to "c:\.aceql-http" for the Java session.</li>
    <li><b>Any other account</b>: user.home system property value is the default/regular value. For example, on Windows 8.1, if account chosen is ".\Mike", value of user.home will be "C:\Users\Mike"</li>
</ul>

<br>

In case you want to use your own DatabaseConfigurator or SessionConfigurator instances, you must add the class files to the CLASSPATH.
<br><br>
In Service Mode, the CLASSPATH contains:
<ul>
    <li>The paths to the necessary jar files to run the software.</li>
    <li>The paths to the installed JDBC Drivers.</li>
    <li>Plus the content of the user CLASSPATH environment when service is started from this interface (i.e. the environment variable is the one of the user that runs this AceQL interface).</li>
</ul>

N.B.: the value of the <i>system</i> environment variable CLASSPATH is never used.</li>

<br><br><br>

<b><font color=blue>Service Mode - Changing the CLASSPATH</font></b> 
<br><br>
If you have changed your CLASSPATH environment variable, you must do following actions for AceQL to use the new CLASSPATH value:
<ul>
    <li>Stop the Windows service.</li>
    <li>Quit completely the AceQL program. (File menu ==> Quit item or Ctrl-Q.)</li>
    <li>Restart the AceQL program.</li>
    <li>Start the Windows service from the AceQL interface (not from the Windows Services Console).</li>
    <li>Click "Service Logs" and verify in the aceqlhttpservice-stdout.yyyy-mm-dd.log that the displayed CLASSPATH contains the new value.</li>
</ul>

<br>

<b><font color=blue>Service Mode - Ensure service restart at server reboot</font></b> 
<br><br>
In order to ensure that the Windows service is effectively restarted after reboot, change the Startup type from "Automatic" to "Automatic (Delayed Start)" using the Microsoft Management Console ("Services Console" button).

<br><br><br>


